{"componentChunkName":"component---src-templates-blog-template-js","path":"/log/first-claim-ever-of-an-aens-name","result":{"data":{"markdownRemark":{"id":"384ac15a-7319-523a-9f50-05855e5843cc","html":"<p>On the 30th of October the <a href=\"https://twitter.com/aeternity/status/1189565830473883650\">Lima hardfork</a> of √¶ternity was performed successfully and introduced an <a href=\"https://github.com/aeternity/protocol/blob/master/AENS.md\">√ÜNS</a> update with the new top level domain <code>.chain</code> and an auction mechanism.</p>\n<p>We managed to make the <a href=\"https://aeternal.io/transactions/th_pxVHa3C9QmbfmSZQJ3m4uuzNeQLaPbwZxqetxS7zVdh1DWo35\">first claim ever</a> on the √¶ternity blockchain which of course triggered the first auction ever.</p>\n<blockquote class=\"twitter-tweet\"><p lang=\"en\" dir=\"ltr\">1 day later but 11 years earlier üï∂Ô∏è <a href=\"https://twitter.com/hashtag/SatoshiNakamoto?src=hash&amp;ref_src=twsrc%5Etfw\">#SatoshiNakamoto</a> üï∂Ô∏è published the <a href=\"https://twitter.com/hashtag/bitcoin?src=hash&amp;ref_src=twsrc%5Etfw\">#bitcoin</a> whitepaper and made history!<br><br>yesterday <a href=\"https://twitter.com/hashtag/kryptokrauts?src=hash&amp;ref_src=twsrc%5Etfw\">#kryptokrauts</a> made history and performed the very first claim for an √ÜNS <a href=\"https://twitter.com/hashtag/domain?src=hash&amp;ref_src=twsrc%5Etfw\">#domain</a> on <a href=\"https://twitter.com/aeternity?ref_src=twsrc%5Etfw\">@aeternity</a> which triggered the first <a href=\"https://twitter.com/hashtag/auction?src=hash&amp;ref_src=twsrc%5Etfw\">#auction</a> after the Lima <a href=\"https://twitter.com/hashtag/hardfork?src=hash&amp;ref_src=twsrc%5Etfw\">#hardfork</a> ü•≥ü•≥ü•≥ <a href=\"https://t.co/goWrpJT0kr\">https://t.co/goWrpJT0kr</a></p>&mdash; kryptokrauts (@kryptokrauts) <a href=\"https://twitter.com/kryptokrauts/status/1190030457255190529?ref_src=twsrc%5Etfw\">October 31, 2019</a></blockquote>\n<h2 id=\"how-did-we-achieve-this\" style=\"position:relative;\"><a href=\"#how-did-we-achieve-this\" aria-label=\"how did we achieve this permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>How did we achieve this?</h2>\n<p>As we are actively developing the <a href=\"https://github.com/kryptokrauts/aepp-sdk-java\">aepp-sdk-java</a> we expected this feature to be very important for the Lima <a href=\"/lexicon#hard-fork\">hardfork</a> and put in a lot of effort in our spare time to have it ready in time.</p>\n<h3 id=\"aens-name-claimer\" style=\"position:relative;\"><a href=\"#aens-name-claimer\" aria-label=\"aens name claimer permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>aens-name-claimer</h3>\n<p>We used the <a href=\"https://github.com/kryptokrauts/aepp-sdk-java\">aepp-sdk-java</a> and built a spring-application called <a href=\"https://github.com/kryptokrauts/aens-name-claimer\">aens-name-claimer</a>. It contains the logic to perform pre-claims (if necessary) and claims for names provided through <code>application.properties</code>.</p>\n<p>By accessing the middleware (<a href=\"https://aeternal.io\">aeternal.io</a>) the app checks whether we are still the highest bidder or have been outbidden in the meantime. If we were outbidden the app can be configured to claim the name again. It is also possible to provide a maximum amount of AE to spend for each name so that there won't be made any claim after this value was reached.</p>\n<p>In our case the private key used to perform transactions is secured by a wallet file. When starting the application it is needed to pass the password for the wallet file through the VM option <code>walletPassword</code> and the path to the wallet file needs to be configured in the <code>application.properties</code>.</p>\n<h3 id=\"historical-log-for-the-claim-of-kryptokrautschain\" style=\"position:relative;\"><a href=\"#historical-log-for-the-claim-of-kryptokrautschain\" aria-label=\"historical log for the claim of kryptokrautschain permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Historical log for the claim of kryptokrauts.chain</h3>\n<pre><code>2019-10-30 21:15:22.501  INFO 32619 --- [scheduling-1] com.kryptokrauts.task.AensClaimer        : performing preclaim and claim for kryptokrauts.chain\n2019-10-30 21:15:22.834  INFO 32619 --- [scheduling-1] com.kryptokrauts.task.AensClaimer        : NamePreclaimTx-model: NamePreclaimTransactionModel(accountId=ak_5z1fmzTKR1GA1P7qiLDCC1s3V7AK2RRpNbXqUhfHQbUeg7mmV, name=kryptokrauts.chain, s\nalt=13738264157424662553, nonce=1, ttl=0)\n2019-10-30 21:15:22.855  INFO 32619 --- [scheduling-1] c.k.a.s.s.t.type.AbstractTransaction     : Using calculation model com.kryptokrauts.aeternity.sdk.service.transaction.fee.impl.BaseFeeCalculationModel the following fee was calculated \n16640000000000\n2019-10-30 21:15:23.083  INFO 32619 --- [scheduling-1] com.kryptokrauts.task.AensClaimer        : NamePreclaimTx-hash: th_2Q6P3AyNL4FBnZyHNFbfaUuvpu9245mjtRRhUHxmWQw19p7Mp5\n2019-10-30 21:15:23.083  INFO 32619 --- [scheduling-1] com.kryptokrauts.task.AensClaimer        : waiting for tx to be mined ...\n2019-10-30 21:15:28.324  INFO 32619 --- [scheduling-1] com.kryptokrauts.task.AensClaimer        : waiting for tx to be mined ...\n2019-10-30 21:15:33.794  INFO 32619 --- [scheduling-1] .k.a.s.s.t.t.m.NameClaimTransactionModel : nameFee not provided. using the initial required fee for the length of the given name.\n2019-10-30 21:15:33.795  INFO 32619 --- [scheduling-1] .k.a.s.s.t.t.m.NameClaimTransactionModel : initial name fee for the name 'kryptokrauts.chain' is: 2865700000000000000\n2019-10-30 21:15:33.799  INFO 32619 --- [scheduling-1] c.k.a.s.s.t.type.AbstractTransaction     : Using calculation model com.kryptokrauts.aeternity.sdk.service.transaction.fee.impl.BaseFeeCalculationModel the following fee was calculated \n16700000000000\n2019-10-30 21:15:34.025  INFO 32619 --- [scheduling-1] com.kryptokrauts.task.AensClaimer        : NameClaimTx-hash: th_pxVHa3C9QmbfmSZQJ3m4uuzNeQLaPbwZxqetxS7zVdh1DWo35\n2019-10-30 21:15:34.025  INFO 32619 --- [scheduling-1] com.kryptokrauts.task.AensClaimer        : waiting for tx to be mined ...\n2019-10-30 21:15:39.272  INFO 32619 --- [scheduling-1] com.kryptokrauts.task.AensClaimer        : waiting for tx to be mined ...\n2019-10-30 21:15:44.470  INFO 32619 --- [scheduling-1] com.kryptokrauts.task.AensClaimer        : waiting for tx to be mined ...\n2019-10-30 21:15:49.683  INFO 32619 --- [scheduling-1] com.kryptokrauts.task.AensClaimer        : waiting for tx to be mined ...\n2019-10-30 21:15:54.895  INFO 32619 --- [scheduling-1] com.kryptokrauts.task.AensClaimer        : waiting for tx to be mined ...\n2019-10-30 21:16:00.110  INFO 32619 --- [scheduling-1] com.kryptokrauts.task.AensClaimer        : waiting for tx to be mined ...\n2019-10-30 21:16:05.325  INFO 32619 --- [scheduling-1] com.kryptokrauts.task.AensClaimer        : waiting for tx to be mined ...\n2019-10-30 21:16:10.565  INFO 32619 --- [scheduling-1] com.kryptokrauts.task.AensClaimer        : waiting for tx to be mined ...\n2019-10-30 21:16:15.778  INFO 32619 --- [scheduling-1] com.kryptokrauts.task.AensClaimer        : waiting for tx to be mined ...\n2019-10-30 21:16:20.986  INFO 32619 --- [scheduling-1] com.kryptokrauts.task.AensClaimer        : waiting for tx to be mined ...\n2019-10-30 21:16:26.186  INFO 32619 --- [scheduling-1] com.kryptokrauts.task.AensClaimer        : waiting for tx to be mined ...\n2019-10-30 21:16:31.463  INFO 32619 --- [scheduling-1] com.kryptokrauts.task.AensClaimer        : waiting for tx to be mined ...\n2019-10-30 21:16:36.674  INFO 32619 --- [scheduling-1] com.kryptokrauts.task.AensClaimer        : waiting for tx to be mined ...\n2019-10-30 21:16:41.875  INFO 32619 --- [scheduling-1] com.kryptokrauts.task.AensClaimer        : waiting for tx to be mined ...\n2019-10-30 21:16:47.071  INFO 32619 --- [scheduling-1] com.kryptokrauts.task.AensClaimer        : waiting for tx to be mined ...\n2019-10-30 21:16:52.268  INFO 32619 --- [scheduling-1] com.kryptokrauts.task.AensClaimer        : waiting for tx to be mined ...\n2019-10-30 21:16:57.484  INFO 32619 --- [scheduling-1] com.kryptokrauts.task.AensClaimer        : waiting for tx to be mined ...\n2019-10-30 21:17:02.697  INFO 32619 --- [scheduling-1] com.kryptokrauts.task.AensClaimer        : successfully claimed: kryptokrauts.chain\n</code></pre>\n<h3 id=\"drama-around-kryptokrautschain\" style=\"position:relative;\"><a href=\"#drama-around-kryptokrautschain\" aria-label=\"drama around kryptokrautschain permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Drama around kryptokrauts.chain</h3>\n<p><strong>Outbidden</strong><br>\nShortly before we would have been the owner of <code>kryptokrauts.chain</code> we <a href=\"https://aeternal.io/transactions/th_kNBQdCtdtYGKnUMGs6Bam7Vq93Mx6dwo6oTLhsdznXEZoFgMK\">were outbidden</a>. Of course we <a href=\"https://aeternal.io/transactions/th_2aKbv2DSfa42UarE4WF7yQw9NVJ9LsPA38MdiuZks73pVLGwAh\">claimed the name again</a> but we needed to wait another 480 blocks (~24 hours) to finally own the name.</p>\n<p><strong>Updating the name</strong><br>\nWhen we finally owned the name we wanted to set a pointer to our account. Unfortunately we assumed that setting the <code>nameTtl=0</code> would cause the protocol to automatically set the max possible <code>TTL</code> (<code>current blockHeight + 50000)</code> for the name.<br>\nThis wasn't the case and so the <a href=\"https://aeternal.io/transactions/th_259B1j2hHmg9BbcKyMbTKCB1KXqiddrHTYKBiUwJk8J5hRTSzq\">NameUpdateTx</a> caused the name to be revoked.</p>\n<pre><code>2019-11-01 21:09:29.881  INFO 6998 --- [scheduling-1] com.kryptokrauts.task.AensClaimer  : kryptokrauts.chain: name already claimed: NameIdResult(id=nm_2HMHaB4d5H85b7m1PhU734Ebcfsyf7LwHwTdpUmYAyMgbYV6Lr, ttl=212210, pointerAddresse\ns=[])\n2019-11-01 21:09:30.161  INFO 6998 --- [scheduling-1] com.kryptokrauts.task.AensClaimer  : NameUpdateTx-model: NameUpdateTransactionModel(accountId=ak_5z1fmzTKR1GA1P7qiLDCC1s3V7AK2RRpNbXqUhfHQbUeg7mmV, nonce=105, nameId=nm_2HMHaB4d5H\n85b7m1PhU734Ebcfsyf7LwHwTdpUmYAyMgbYV6Lr, ttl=0, nameTtl=0, clientTtl=0, pointerAddresses=[ak_5z1fmzTKR1GA1P7qiLDCC1s3V7AK2RRpNbXqUhfHQbUeg7mmV])\n2019-11-01 21:09:30.182  INFO 6998 --- [scheduling-1] c.k.a.s.s.t.type.AbstractTransaction     : Using calculation model com.kryptokrauts.aeternity.sdk.service.transaction.fee.impl.BaseFeeCalculationModel the following fee was calculated 1\n7700000000000\n2019-11-01 21:09:30.466  INFO 6998 --- [scheduling-1] com.kryptokrauts.task.AensClaimer  : NameUpdateTx-hash: th_259B1j2hHmg9BbcKyMbTKCB1KXqiddrHTYKBiUwJk8J5hRTSzq\n2019-11-01 21:09:30.467  INFO 6998 --- [scheduling-1] com.kryptokrauts.task.AensClaimer  : waiting for tx to be mined ...\n2019-11-01 21:09:35.772  INFO 6998 --- [scheduling-1] com.kryptokrauts.task.AensClaimer  : waiting for tx to be mined ...\n2019-11-01 21:09:41.330  INFO 6998 --- [scheduling-1] com.kryptokrauts.task.AensClaimer  : kryptokrauts.chain: updated: NameIdResult(id=nm_2HMHaB4d5H85b7m1PhU734Ebcfsyf7LwHwTdpUmYAyMgbYV6Lr, ttl=162223, pointerAddresses=[ak_5z1fmzTKR\n1GA1P7qiLDCC1s3V7AK2RRpNbXqUhfHQbUeg7mmV])\n</code></pre>\n<p><strong>Claiming the name again</strong><br>\nAfter the name was revoked due to our erroneous NameUpdateTx we now need to claim it again and we already tried to do so. But the recurrent claim wasn't mined and we first <a href=\"https://forum.aeternity.com/t/bug-when-claiming-a-domain-for-the-2nd-time/5162\">thought there is a bug in the protocol</a>.<br>\nIt turnes out that we haven't read the protocol documentation before asking the question in the forum.<br>\nWhen a name is revoked it enters the <a href=\"https://github.com/aeternity/protocol/blob/aens-auctions/AENS.md#revoke\">revoked state</a> and will be available again after another 2016 blocks.<br>\nNow we need to wait until block 164239 to be able to claim <code>kryptokrauts.chain</code> again.</p>\n<h2 id=\"where-will-the-namefee-go\" style=\"position:relative;\"><a href=\"#where-will-the-namefee-go\" aria-label=\"where will the namefee go permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Where will the nameFee go?</h2>\n<p>The <code>nameFee</code> of all claimed names will be collected and locked in the account <em>ak_11111111111111111111111111111111273Yts</em>.</p>\n<p><strong>UPDATE</strong><br>\nWe finally managed to claim and own our name and successfully performed an update transaction to set a pointer to our account. If you like the story send us some tips to <strong>kryptokrauts.chain</strong> =)</p>\n<h2 id=\"support-us\" style=\"position:relative;\"><a href=\"#support-us\" aria-label=\"support us permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Support us</h2>\n<ul>\n<li>Visit our kraut<a href=\"/support\"><strong>SUPPORT</strong></a> page to find various ways to honor our work :-)</li>\n</ul>","frontmatter":{"publishedOn":"2019-11-04","date":null,"title":"kryptokrauts made history!","author":"Marco Walz"}}},"pageContext":{}}}